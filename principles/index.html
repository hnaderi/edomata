<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Laika 0.18.1 + Helium Theme" />
    <title>Principles</title>
    
      <meta name="author" content="Hossein Naderi"/>
    
    
      <meta name="description" content="docs"/>
    
    
      <link rel="icon" sizes="32x32" type="image/png" href="/icon.png"/>
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css">
    
    <link rel="stylesheet" type="text/css" href="../helium/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../helium/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../site/styles.css" />
    <script src="../helium/laika-helium.js"></script>
    
    
    <script> /* for avoiding page load transitions */ </script>
  </head>

  <body>

    <header id="top-bar">

      <div class="row">
        <a id="nav-icon">
          <i class="icofont-laika" title="Navigation">&#xefa2;</i>
        </a>
        
      </div>

      <a class="image-link" href="../introduction.html"><img src="../icon.png"></a>

      <span class="row links"><a class="icon-link" href="https://github.com/hnaderi/edomata/"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a><a class="icon-link" href="https://edomata.ir/"><i class="icofont-laika" title="Home">&#xef47;</i></a></span>

    </header>

    <nav id="sidebar">

      <div class="row">
        <a class="icon-link" href="https://github.com/hnaderi/edomata/"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a><a class="icon-link" href="https://edomata.ir/"><i class="icofont-laika" title="Home">&#xef47;</i></a>
      </div>

      <ul class="nav-list">
        <li class="level1"><a href="../introduction.html">Introduction</a></li>
        <li class="level1 nav-header">about</li>
        <li class="level2"><a href="../about/design_goals.html">Design goals</a></li>
        <li class="level2"><a href="../about/features.html">Features</a></li>
        <li class="level1 nav-header">tutorials</li>
        <li class="level2"><a href="../tutorials/0_getting_started.html">Getting started</a></li>
        <li class="level2"><a href="../tutorials/1-1_eventsourcing.html">Event sourcing</a></li>
        <li class="level2"><a href="../tutorials/1-2_cqrs.html">CQRS style</a></li>
        <li class="level2"><a href="../tutorials/2_backends.html">Running</a></li>
        <li class="level2"><a href="../tutorials/3_processes.html">Processes</a></li>
        <li class="level1 nav-header">principles</li>
        <li class="level2"><a href="definitions.html">Definitions</a></li>
        <li class="level2 active"><a href="#">Principles</a></li>
        <li class="level1 nav-header">backends</li>
        <li class="level2"><a href="../backends/skunk.html">Skunk</a></li>
        <li class="level2"><a href="../backends/doobie.html">Doobie</a></li>
        <li class="level1 nav-header">other</li>
        <li class="level2"><a href="../other/modules.html">Modules</a></li>
        <li class="level2"><a href="../other/faq.html">FAQ</a></li>
      </ul>

      <ul class="nav-list">
        <li class="level1 nav-header">Related Projects</li>
        
          <li class="level2"><a href="https://typelevel.org/cats/">cats</a></li>
        
          <li class="level2"><a href="https://typelevel.org/cats-effect/">cats-effect</a></li>
        
          <li class="level2"><a href="https://fs2.io/">fs2</a></li>
        
          <li class="level2"><a href="https://github.com/typelevel/discipline/">discipline</a></li>
        
      </ul>

    </nav>

    <div id="container">

      <nav id="page-nav">
        <p class="header"><a href="#">Principles</a></p>

        <ul class="nav-list">
          <li class="level1"><a href="#message-passing-system">Message passing system</a></li>
          <li class="level1"><a href="#event-driven-system">Event driven system</a></li>
          <li class="level1"><a href="#event-sourcing">Event sourcing</a></li>
          <li class="level1"><a href="#cqrs">CQRS</a></li>
          <li class="level1"><a href="#actor-model">Actor model</a></li>
          <li class="level1"><a href="#misconceptions-and-anti-patterns">Misconceptions and anti-patterns</a></li>
          <li class="level2"><a href="#communicating-using-journal">Communicating using journal</a></li>
          <li class="level2"><a href="#cqrs-architecture">CQRS architecture</a></li>
          <li class="level2"><a href="#event-sourced-architecture">Event sourced architecture</a></li>
          <li class="level2"><a href="#redundant-events">Redundant events</a></li>
          <li class="level2"><a href="#dependent-events">Dependent events</a></li>
          <li class="level2"><a href="#passive-aggressive-events">Passive aggressive events</a></li>
        </ul>

        <p class="footer"></p>
      </nav>

      <main class="content">

        <h1 id="principles" class="title">Principles</h1>
        
        <h2 id="message-passing-system" class="section"><a class="anchor-link left" href="#message-passing-system"><i class="icofont-laika">&#xef71;</i></a>Message passing system</h2>
        <p>Systems (usually based on <a href="#actor-model">Actor model</a>) that communicate through message passing, meaning that interactions are done by sending encapsulated data packets,
        which may have any arbitrary intents and semantics.
        this may be used to decouple execution stages both in time and space, so execution can continue on a different machine, or a different time on the same or another machine.</p>
        
        <h2 id="event-driven-system" class="section"><a class="anchor-link left" href="#event-driven-system"><i class="icofont-laika">&#xef71;</i></a>Event driven system</h2>
        <p>A specific form of message passing that always uses events as messages.
        Events are first class citizens of the system, and in a pure eda system, events are reasons and facts; meaning that nothing happens unless there is exactly one event for it.</p>
        
        <h2 id="event-sourcing" class="section"><a class="anchor-link left" href="#event-sourcing"><i class="icofont-laika">&#xef71;</i></a>Event sourcing</h2>
        <p>It is a persistence strategy that takes EDA to its extreme, where any change to any data is due to events.
        For any component, where all changes to its data satisfy the following criteria, we call it event sourced.<br>
        <img src="https://www.plantuml.com/plantuml/svg/jLJ1JiCm3BtdAonnWGiIQ0mO1mIC0X8dGE9iMg-rLfoIU9icnB_ZRS3AMCT04Aaz-BsyPoTsOf-bme2FS8ffFmz-8DcPBts0xdIv-4681MP-n9933yj8DUHcjYi81TYlnKz2yAEPMcklrMxjrR34YpP0j_Gq84dfcdls2Ptwa57uXdnXgLUNXCPSGthANfUtll-CULTmsXUA4NPS_VpUc5qUih7WsO6j9UBpS5rf4lsIyKlTmFxAALSe-Yw-SAT9qaxQEwjyvmxt1IijpsLxmJX3nGUCrE1wU62DTBwUwxAwI9Hrt5XIzsJtyFVYuhKfxslE2xq8HF8Z-UNNzyaKK_MXmVMBoWyBUfX8OVYlyqeD3RxyD_Mof5JPI_o35bvr8OizRBCve3_mJ99afQ7Qa3hNYUEePFKMA3b5O8rWaDAHunviZehnyHPeGGARLr3WaAQCG1Yz04P00HhQN6mvsAYmf7pIfPqX1UunPSPmCnoY7uIKiYD7zcIRc4965KaMfpjP-XqRW0NkAm00" alt=""><br></p>
        <p>Note that this is not an architecture as opposed to EDA which is, ES is considered a local persistence strategy, and it must be totally transparent and isolated from external systems.</p>
        
        <h2 id="cqrs" class="section"><a class="anchor-link left" href="#cqrs"><i class="icofont-laika">&#xef71;</i></a>CQRS</h2>
        <p>it is the idea of applying CQS principle to whole sub-systems, meaning that responsibility for handling commands are totally separated from handling queries. it is a useful pattern for following scenarios:
        - when there is a need to have more than one representation of data, and different databases for each of them
        - when business logic is totally irrelevant to views that users need or business logic is too complex to be mixed with other irrelevant responsibilities.</p>
        <p>Note that this is also a local pattern, not an architecture, and almost always is not a replacement for crud systems.<br>
        Also CQRS doesn&#39;t have to mean doing event sourcing, introducing commands, event, read sides, sagas, async processing and so forth.</p>
        
        <h2 id="actor-model" class="section"><a class="anchor-link left" href="#actor-model"><i class="icofont-laika">&#xef71;</i></a>Actor model</h2>
        <p>The actor model in computer science is a mathematical model of concurrent computation that treats actor as the universal primitive of concurrent computation. In response to a message it receives, an actor can: </p>
        <ul>
          <li>make local decisions</li>
          <li>create more actors</li>
          <li>send more messages</li>
          <li>determine how to respond to the next message received.</li>
        </ul>
        <p>Actors may modify their own private state, but can only affect each other indirectly through messaging.</p>
        
        <h1 id="misconceptions-and-anti-patterns" class="section"><a class="anchor-link left" href="#misconceptions-and-anti-patterns"><i class="icofont-laika">&#xef71;</i></a>Misconceptions and anti-patterns</h1>
        
        <h2 id="communicating-using-journal" class="section"><a class="anchor-link left" href="#communicating-using-journal"><i class="icofont-laika">&#xef71;</i></a>Communicating using journal</h2>
        <p>using events to communicate; this is by far most spread misconception! that is message passing, not event sourcing.</p>
        
        <h2 id="cqrs-architecture" class="section"><a class="anchor-link left" href="#cqrs-architecture"><i class="icofont-laika">&#xef71;</i></a>CQRS architecture</h2>
        <p>as described earlier, CQRS is not a system architecture, it is a local application architecture or pattern; having a system with CQRS architecture not only does not convey any meaning, it also shows a form a cargo cult programming and design.</p>
        
        <h2 id="event-sourced-architecture" class="section"><a class="anchor-link left" href="#event-sourced-architecture"><i class="icofont-laika">&#xef71;</i></a>Event sourced architecture</h2>
        <p>as described in CQRS architecture! in a properly designed systems (using DDD principles at least) domains are separated by domain language (ubiquitous language) which is the boundary of meanings,
        this is where data in presence of a domain context becomes meaningful (a.k.a. information) and its semantics are defined, 
        this is a totally private data and not isolating it is the cause of a lot of other misconceptions in DDD/ES designing.</p>
        
        <h2 id="redundant-events" class="section"><a class="anchor-link left" href="#redundant-events"><i class="icofont-laika">&#xef71;</i></a>Redundant events</h2>
        <p>Events are meant to carry facts, having redundant events can signal wrong usage of events or wrong event structure</p>
        
        <h2 id="dependent-events" class="section"><a class="anchor-link left" href="#dependent-events"><i class="icofont-laika">&#xef71;</i></a>Dependent events</h2>
        <p>Events are facts, if they are dependent on other events to be true or not, they are not events<br></p>
        
        <h2 id="passive-aggressive-events" class="section"><a class="anchor-link left" href="#passive-aggressive-events"><i class="icofont-laika">&#xef71;</i></a>Passive aggressive events</h2>
        <p><code>IHaveDoneMyWorkSoShouldDoThisJobEventHappened</code>, <code>DoThisJob</code>. this is a sign of not understanding EDA, and trying to fit an event driven system to an imperative and/or micromanaging mindset.</p>

        <hr style="margin-top: 30px"/>
        <footer style="font-size: 90%; text-align: center">
          Edomata is a <a href="https://typelevel.org/">Typelevel</a> project distributed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache-2.0</a> license.
        </footer>

      </main>

    </div>

  </body>
</html>
